var U={},ie=(le,se,ne)=>(U.__chunk_8866=(X,z,s)=>{s.d(z,{Z:()=>e});let e=(0,s(8622).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},U.__chunk_8128=(X,z,s)=>{s.d(z,{M:()=>F});var e=s(9220),b=s(3376);function O(){let x=(0,e.useRef)(!1);return(0,b.L)(()=>(x.current=!0,()=>{x.current=!1}),[]),x}var K=s(5541),N=s(6777),V=s(7387);class Y extends e.Component{getSnapshotBeforeUpdate(k){let p=this.props.childRef.current;if(p&&k.isPresent&&!this.props.isPresent){let d=this.props.sizeRef.current;d.height=p.offsetHeight||0,d.width=p.offsetWidth||0,d.top=p.offsetTop,d.left=p.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function W({children:x,isPresent:k}){let p=(0,e.useId)(),d=(0,e.useRef)(null),_=(0,e.useRef)({width:0,height:0,top:0,left:0});return(0,e.useInsertionEffect)(()=>{let{width:h,height:c,top:r,left:v}=_.current;if(k||!d.current||!h||!c)return;d.current.dataset.motionPopId=p;let m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${c}px !important;
            top: ${r}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[k]),e.createElement(Y,{isPresent:k,childRef:d,sizeRef:_},e.cloneElement(x,{ref:d}))}let R=({children:x,initial:k,isPresent:p,onExitComplete:d,custom:_,presenceAffectsLayout:h,mode:c})=>{let r=(0,V.h)(A),v=(0,e.useId)(),m=(0,e.useMemo)(()=>({id:v,initial:k,isPresent:p,custom:_,onExitComplete:y=>{for(let g of(r.set(y,!0),r.values()))if(!g)return;d&&d()},register:y=>(r.set(y,!1),()=>r.delete(y))}),h?void 0:[p]);return(0,e.useMemo)(()=>{r.forEach((y,g)=>r.set(g,!1))},[p]),e.useEffect(()=>{p||r.size||!d||d()},[p]),c==="popLayout"&&(x=e.createElement(W,{isPresent:p},x)),e.createElement(N.O.Provider,{value:m},x)};function A(){return new Map}var M=s(1370),H=s(114);let S=x=>x.key||"",F=({children:x,custom:k,initial:p=!0,onExitComplete:d,exitBeforeEnter:_,presenceAffectsLayout:h=!0,mode:c="sync"})=>{var r;(0,H.k)(!_,"Replace exitBeforeEnter with mode='wait'");let v=(0,e.useContext)(M.p).forceRender||function(){let n=O(),[i,f]=(0,e.useState)(0),P=(0,e.useCallback)(()=>{n.current&&f(i+1)},[i]);return[(0,e.useCallback)(()=>K.Wi.postRender(P),[P]),i]}()[0],m=O(),y=function(n){let i=[];return e.Children.forEach(n,f=>{(0,e.isValidElement)(f)&&i.push(f)}),i}(x),g=y,w=(0,e.useRef)(new Map).current,I=(0,e.useRef)(g),D=(0,e.useRef)(new Map).current,T=(0,e.useRef)(!0);if((0,b.L)(()=>{T.current=!1,function(n,i){n.forEach(f=>{let P=S(f);i.set(P,f)})}(y,D),I.current=g}),r=()=>{T.current=!0,D.clear(),w.clear()},(0,e.useEffect)(()=>()=>r(),[]),T.current)return e.createElement(e.Fragment,null,g.map(n=>e.createElement(R,{key:S(n),isPresent:!0,initial:!!p&&void 0,presenceAffectsLayout:h,mode:c},n)));g=[...g];let l=I.current.map(S),L=y.map(S),C=l.length;for(let n=0;n<C;n++){let i=l[n];L.indexOf(i)!==-1||w.has(i)||w.set(i,void 0)}return c==="wait"&&w.size&&(g=[]),w.forEach((n,i)=>{if(L.indexOf(i)!==-1)return;let f=D.get(i);if(!f)return;let P=l.indexOf(i),Z=n;Z||(Z=e.createElement(R,{key:S(f),isPresent:!1,onExitComplete:()=>{w.delete(i);let B=Array.from(D.keys()).filter(E=>!L.includes(E));if(B.forEach(E=>D.delete(E)),I.current=y.filter(E=>{let q=S(E);return q===i||B.includes(q)}),!w.size){if(m.current===!1)return;v(),d&&d()}},custom:k,presenceAffectsLayout:h,mode:c},f),w.set(i,Z)),g.splice(P,0,Z)}),g=g.map(n=>{let i=n.key;return w.has(i)?n:e.createElement(R,{key:S(n),isPresent:!0,presenceAffectsLayout:h,mode:c},n)}),e.createElement(e.Fragment,null,w.size?g:g.map(n=>(0,e.cloneElement)(n)))}},U.__chunk_225=(X,z,s)=>{s.d(z,{n:()=>_});var e=s(926),b=s(9220),O=s(6516);class K{set(c,r,v=this.defaultTTL){this.cache.size>=this.maxSize&&this.cleanup(),this.cache.set(c,{data:r,timestamp:Date.now(),expiry:Date.now()+v})}get(c){let r=this.cache.get(c);return r?Date.now()>r.expiry?(this.cache.delete(c),null):r.data:null}has(c){let r=this.cache.get(c);return!!r&&(!(Date.now()>r.expiry)||(this.cache.delete(c),!1))}cleanup(){let c=Date.now();for(let[r,v]of Array.from(this.cache.entries()))c>v.expiry&&this.cache.delete(r)}clear(){this.cache.clear()}constructor(){this.cache=new Map,this.maxSize=100,this.defaultTTL=9e5}}let N=new K,V=["api","app","web","blog","shop","mail","www","dev","test","admin","home","news","work","team","cloud","data","code","tech","ai","chat"],Y=[".com",".net",".org",".io",".ai",".dev",".app"];function W(){let[h,c]=(0,b.useState)(!1);return{setItem:(r,v)=>{if(h)try{let m={value:v,timestamp:Date.now()};localStorage.setItem(`nextname_${r}`,JSON.stringify(m))}catch(m){console.warn("localStorage setItem failed:",m)}},getItem:(r,v=864e5)=>{if(!h)return null;try{let m=localStorage.getItem(`nextname_${r}`);if(!m)return null;let y=JSON.parse(m);return Date.now()-y.timestamp>v?(localStorage.removeItem(`nextname_${r}`),null):y.value}catch(m){return console.warn("localStorage getItem failed:",m),null}},removeItem:r=>{h&&localStorage.removeItem(`nextname_${r}`)},clear:()=>{h&&Object.keys(localStorage).forEach(r=>{r.startsWith("nextname_")&&localStorage.removeItem(r)})},isSupported:h}}var R=s(3531),A=s(8622);let M=(0,A.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),H=(0,A.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var S=s(8866),F=s(9335),x=s(3251),k=s(4687),p=s(6885);let d=[{value:".com",label:".com",description:"Commercial",popular:!0},{value:".net",label:".net",description:"Network",popular:!0},{value:".org",label:".org",description:"Organization",popular:!0},{value:".io",label:".io",description:"Technology",popular:!0},{value:".ai",label:".ai",description:"Artificial Intelligence",popular:!0},{value:".dev",label:".dev",description:"Developers",popular:!0},{value:".app",label:".app",description:"Applications",popular:!1},{value:".web",label:".web",description:"Website",popular:!1},{value:".site",label:".site",description:"Website",popular:!1},{value:".online",label:".online",description:"Online Business",popular:!1},{value:".store",label:".store",description:"Online Store",popular:!1},{value:".tech",label:".tech",description:"Technology",popular:!1}];function _({onSearch:h,placeholder:c}){let{t:r}=(0,O.T)(),{preFetchHotDomains:v,preFetchTldList:m,getCachedSearchResult:y,cacheSearchResult:g}=function(){let[t,o]=(0,b.useState)(!1);return{preFetchHotDomains:async()=>{if(!t){o(!0);try{let a=[];for(let u of V.slice(0,5))for(let j of Y.slice(0,3))a.push(`${u}${j}`);for(let u=0;u<a.length;u+=3){let j=a.slice(u,u+3);await Promise.allSettled(j.map(async $=>{let J=`domain:${$}`;if(!N.has(J))try{let Q=await fetch(`/api/domain/${$}`);if(Q.ok){let ae=await Q.json();N.set(J,ae)}}catch{}})),await new Promise($=>setTimeout($,100))}}finally{o(!1)}}},preFetchTldList:async()=>{let a="tlds:list";if(!N.has(a))try{let u=await fetch("/api/tlds");if(u.ok){let j=await u.json();N.set(a,j,864e5)}}catch{}},getCachedData:a=>N.get(a),cacheSearchResult:(a,u,j)=>{let $=`search:${a}:${u}`;N.set($,j,6e5)},getCachedSearchResult:(a,u)=>{let j=`search:${a}:${u}`;return N.get(j)},isPreFetching:t,cache:N}}(),{history:w,addToHistory:I}=function(){let{setItem:t,getItem:o}=W(),[a,u]=(0,b.useState)([]);return{history:a,addToHistory:j=>{if(!j.trim())return;let $=[j,...a.filter(J=>J!==j)].slice(0,10);u($),t("search_history",$)},clearHistory:()=>{u([]),t("search_history",[])}}}(),{getPreference:D,setPreference:T}=function(){let{setItem:t,getItem:o}=W();return{getPreference:(a,u=null)=>o(`pref_${a}`,6048e5)||u,setPreference:(a,u)=>{t(`pref_${a}`,u)}}}(),[l,L]=(0,b.useState)(""),[C,n]=(0,b.useState)("auto"),[i,f]=(0,b.useState)(!1),[P,Z]=(0,b.useState)([]),B=(0,b.useCallback)(t=>{if(!t)return"auto";if(t.includes(".")&&!t.startsWith(".")&&!t.endsWith(".")){let o=t.split(".");if(o.length>=2&&o.every(a=>a.length>0))return"domain"}return t.startsWith(".")?"suffix":"prefix"},[]),E=(0,b.useMemo)(()=>{if(!l)return[...w.slice(0,5).map(a=>({type:"recent",value:a,label:a,description:"\u6700\u8FD1\u641C\u7D22"})),...d.filter(a=>a.popular).slice(0,6).map(a=>({type:"tld",value:a.value,label:a.label,description:a.description,popular:!0}))];let t=l.toLowerCase().trim(),o=[];return o.push({type:"domain",value:l.includes(".")?l:`${l}.com`,label:l.includes(".")?l:`${l}.com`,description:"\u5B8C\u6574\u57DF\u540D\u67E5\u8BE2 - \u68C0\u67E5\u57DF\u540D\u662F\u5426\u53EF\u6CE8\u518C"},{type:"keyword",value:l.replace(/^\.+/,""),label:l.replace(/^\.+/,""),description:"\u57DF\u540D\u524D\u7F00\u641C\u7D22 - \u67E5\u627E\u4EE5\u6B64\u5F00\u5934\u7684\u57DF\u540D"},{type:"tld",value:l.startsWith(".")?l:`.${l}`,label:l.startsWith(".")?l:`.${l}`,description:"\u57DF\u540D\u540E\u7F00\u641C\u7D22 - \u67E5\u770B\u6B64\u540E\u7F00\u7684\u4EF7\u683C\u5BF9\u6BD4"}),o.push(...w.filter(a=>a.toLowerCase().includes(t)).slice(0,2).map(a=>({type:"recent",value:a,label:a,description:"\u6700\u8FD1\u641C\u7D22"}))),o.push(...d.filter(a=>a.value.toLowerCase().includes(t)).slice(0,2).map(a=>({type:"tld",value:a.value,label:a.label,description:`\u70ED\u95E8 ${a.value} \u57DF\u540D\u540E\u7F00`,popular:!0}))),o.slice(0,8)},[l,w]),q=t=>{L(t),n(B(t)),f(t.length>0||E.length>0)},G=(0,b.useCallback)((t=l,o=C)=>{t.trim()&&(I(t),o!=="auto"&&T("preferred_search_type",o),y(t,o),h(t,o),f(!1))},[l,C,h,I,T,y]),ee=t=>{L(t.value);let o="auto";t.type==="domain"?o="domain":t.type==="keyword"?o="prefix":t.type==="tld"&&(o="suffix"),G(t.value,o)},te=()=>{switch(C){case"domain":return r("common.fullDomain");case"prefix":return r("common.domainPrefix");case"suffix":return r("common.domainSuffix");default:return r("common.autoDetect")}},re=t=>{switch(t.type){case"tld":return(0,e.jsx)(H,{className:"h-4 w-4"});case"domain":return(0,e.jsx)(R.Z,{className:"h-4 w-4"});case"recent":return(0,e.jsx)(F.Z,{className:"h-4 w-4"});default:return(0,e.jsx)(M,{className:"h-4 w-4"})}};return(0,e.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsxs)("div",{className:"relative flex items-center",children:[(0,e.jsxs)("div",{className:"flex-1 relative",children:[(0,e.jsx)("input",{type:"text",placeholder:c||r("common.searchPlaceholder"),value:l,onChange:t=>q(t.target.value),onKeyDown:t=>{t.key==="Enter"&&G(),t.key==="Escape"&&f(!1)},onFocus:()=>f(!0),onBlur:()=>{setTimeout(()=>f(!1),200)},className:"w-full h-14 pl-12 pr-32 text-lg rounded-full border-2 border-input bg-background hover:border-primary focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-300",autoComplete:"off"}),(0,e.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none",children:(0,e.jsx)(S.Z,{className:"h-5 w-5"})})]}),(0,e.jsxs)("div",{className:"absolute right-2 flex items-center space-x-2",children:[(0,e.jsx)(p.Zb,{className:"px-3 py-1 bg-secondary",children:(0,e.jsxs)(p.aY,{className:"p-0 flex items-center space-x-1 text-xs",children:[(()=>{switch(C){case"domain":return(0,e.jsx)(R.Z,{className:"h-4 w-4"});case"prefix":return(0,e.jsx)(M,{className:"h-4 w-4"});case"suffix":return(0,e.jsx)(H,{className:"h-4 w-4"});default:return(0,e.jsx)(S.Z,{className:"h-4 w-4"})}})(),(0,e.jsx)("span",{children:te()})]})}),(0,e.jsx)(k.z,{onClick:()=>G(),className:"h-10 rounded-full",disabled:!l.trim(),children:r("common.search")})]})]}),i&&E.length>0&&(0,e.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-background border rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[P.length>0&&l===""&&(0,e.jsxs)("div",{className:"border-b",children:[(0,e.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-muted-foreground",children:"Recent Searches"}),E.filter(t=>t.type==="recent").map(t=>(0,e.jsxs)("div",{onClick:()=>ee(t),className:"flex items-center gap-2 px-3 py-2 hover:bg-secondary cursor-pointer",children:[(0,e.jsx)(F.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,e.jsx)("span",{children:t.label})]},t.value))]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-muted-foreground",children:l?"Suggestions":"Popular TLDs"}),E.filter(t=>t.type!=="recent").map(t=>(0,e.jsxs)("div",{onClick:()=>ee(t),className:"flex items-center gap-2 px-3 py-2 hover:bg-secondary cursor-pointer",children:[re(t),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)("span",{children:t.label}),t.popular&&(0,e.jsx)(x.Z,{className:"h-3 w-3 text-yellow-500"})]}),t.description&&(0,e.jsx)("div",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.value))]})]})]}),l&&(0,e.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:[r("search.searchTypeDetected")," ",(0,e.jsx)("span",{className:"font-medium text-foreground",children:te()}),C==="domain"&&` ${r("search.willCheckAvailability")}`,C==="prefix"&&` ${r("search.willCheckTlds")}`,C==="suffix"&&` ${r("search.willShowPriceComparison")}`]})]})}},U);export{ie as __getNamedExports};
